name = "MoE"
resources = "gpus"

[matrix]
dataset = ["MELD--E"]
modals = [
    "T+A",
    "T+V",
    "T+A+V",
]

[tasks.MoE-trainable]
command = "uv run emotion-recognize train"
args = [
    "configs/dataset/{dataset}.toml",
    "configs/encoders/{modals}.toml",
    "{fusion}",
    "{classifier}",
    "--seed 114",
]
[tasks.MoE-trainable.matrix]
fusion = [
    "configs/fusion/LMF.toml",
    "configs/fusion/MoE/LMF.toml",
    "configs/fusion/MoE/ConcatFusionMoE.toml",
]
classifier = [
    "",
    "configs/classifier/4xE.toml",
    "configs/classifier/8xE.toml",
]
